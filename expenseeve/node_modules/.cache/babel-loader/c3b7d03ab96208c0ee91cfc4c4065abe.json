{"ast":null,"code":"import _objectSpread from \"F:\\\\expenseeve\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"F:\\\\expenseeve\\\\src\\\\components\\\\settings.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { loginRoute } from \"../config/route\";\nimport { budgetOnChange, categoryOnChange, addCategory, updateBudget, deleteCategory //loadingCategory\n} from \"../actions\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteCategory = id => {\n      // alert(\"OK\" + id.target.id);\n      this.props.deleteCategory(id.target.id);\n    };\n\n    this.deleteCategory = this.deleteCategory.bind();\n  }\n\n  redirectToLoginIfNotLogin(isLogin) {\n    console.log(\"redirectToLoginIfNotLogin \", !isLogin);\n\n    if (!isLogin) {\n      //  this.props.initializeApp();\n      console.log(\"[RedirectTo] Login page\");\n      return React.createElement(Redirect, {\n        to: loginRoute,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      });\n    }\n  }\n\n  renderCategoryList(style) {\n    let styleList = {};\n    return this.props.categories.map(item => {\n      if (item.deleted) {\n        let paramId = item._id;\n        console.log(\"deletedItem\", item);\n        return React.createElement(\"li\", {\n          style: {\n            textDecoration: \"none\",\n            listStyle: \"none\",\n            display: \"block\",\n            margin: \" 3px 6px 0px 6px\",\n            border: \"1px solid #eee\",\n            padding: \"2px\",\n            paddingLeft: \"5px\",\n            boxShadow: \"0px 1px 0px #ccc\",\n            color: \"#ddddd\",\n            background: \"#f7f7f7\"\n          },\n          id: paramId,\n          key: item._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, item.name);\n      }\n\n      return React.createElement(\"li\", {\n        style: {\n          textDecoration: \"none\",\n          listStyle: \"none\",\n          display: \"block\",\n          margin: \" 3px 6px 0px 6px\",\n          border: \"1px solid #eee\",\n          padding: \"2px\",\n          paddingLeft: \"5px\",\n          boxShadow: \"0 2px 3px #ccc\"\n        },\n        title: \"Delete\",\n        key: item._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, item.name, React.createElement(\"span\", {\n        id: item.name,\n        onClick: this.deleteCategory,\n        className: \"fas fa-trash-alt\",\n        title: \"Delete\",\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }));\n    });\n  }\n\n  renderAddCategoryBtn(btnStyle) {\n    if (this.props.loadingCategory) {\n      return React.createElement(\"p\", {\n        style: {\n          display: \"inline-block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Adding...\");\n    } else {\n      return React.createElement(\"button\", {\n        type: \"button\",\n        onClick: e => {\n          this.props.addCategory(this.props.category);\n        },\n        style: btnStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Add\");\n    }\n  }\n\n  renderUpdateButton(btnStyle) {\n    if (this.props.loadingUpdate) {\n      return React.createElement(\"p\", {\n        style: {\n          display: \"inline-block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Updating...\");\n    } else {\n      return React.createElement(\"button\", {\n        type: \"button\",\n        style: btnStyle,\n        onClick: e => {\n          this.props.updateBudget(this.props.budget);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Update\");\n    }\n  }\n\n  render() {\n    console.log(\"Settings render props\", this.props);\n    let rowStyle = {\n      background: \"white\"\n    };\n    let btnStyle = {\n      border: \"border: 1px solid #eee\",\n      boxShadow: \" 0 2px 3px #ccc\",\n      borderRadius: \"0\",\n      width: \"100px\",\n      display: \"inline-box\",\n      background: \"white\",\n      height: \"35px\"\n    };\n    let deleteBtnStyle = {\n      cursor: \"pointer\",\n      float: \"right\",\n      padding: \"5px 10px 5px 0\",\n      fontSize: \"12px\"\n    };\n    return React.createElement(\"div\", {\n      className: \"container \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row mt-2\",\n      style: rowStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-8 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Total budget\", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"totalBudget\",\n      style: {\n        display: \"inline-box\",\n        marginRight: \"16px\",\n        marginLeft: \"16px\"\n      },\n      id: \"totalBudget\",\n      placeholder: \"Enter your  budget\",\n      value: this.props.budget,\n      onChange: e => {\n        this.props.budgetOnChange(e.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), this.renderUpdateButton(btnStyle)), React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row mt-3\",\n      style: rowStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-8 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Categories\", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"totalBudget\",\n      style: {\n        display: \"inline-box\",\n        marginRight: \"16px\",\n        marginLeft: \"16px\"\n      },\n      value: this.props.category,\n      placeholder: \"Enter category name\",\n      onChange: e => {\n        this.props.categoryOnChange(e.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })), this.renderAddCategoryBtn(btnStyle)), React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-center\",\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, this.props.error))), React.createElement(\"div\", {\n      className: \"row mt-2\",\n      style: rowStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-6 mt-1  card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      style: {\n        padding: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, this.renderCategoryList(deleteBtnStyle))), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(\"[Settings Comp]-\", state);\n  return _objectSpread({}, state.settings, {\n    isLogin: state.authentication.isSessionActive\n  });\n};\n\nexport default connect(mapStateToProps, {\n  budgetOnChange,\n  categoryOnChange,\n  updateBudget,\n  addCategory,\n  deleteCategory\n})(Settings);","map":{"version":3,"sources":["F:\\expenseeve\\src\\components\\settings.js"],"names":["React","Component","connect","loginRoute","budgetOnChange","categoryOnChange","addCategory","updateBudget","deleteCategory","Redirect","Settings","constructor","props","id","target","bind","redirectToLoginIfNotLogin","isLogin","console","log","renderCategoryList","style","styleList","categories","map","item","deleted","paramId","_id","textDecoration","listStyle","display","margin","border","padding","paddingLeft","boxShadow","color","background","name","renderAddCategoryBtn","btnStyle","loadingCategory","e","category","renderUpdateButton","loadingUpdate","budget","render","rowStyle","borderRadius","width","height","deleteBtnStyle","cursor","float","fontSize","marginRight","marginLeft","value","error","mapStateToProps","state","settings","authentication","isSessionActive"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginRoute } from \"../config/route\";\r\nimport {\r\n  budgetOnChange,\r\n  categoryOnChange,\r\n  addCategory,\r\n  updateBudget,\r\n  deleteCategory //loadingCategory\r\n} from \"../actions\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.deleteCategory = this.deleteCategory.bind();\r\n  }\r\n  redirectToLoginIfNotLogin(isLogin) {\r\n    console.log(\"redirectToLoginIfNotLogin \", !isLogin);\r\n    if (!isLogin) {\r\n      //  this.props.initializeApp();\r\n\r\n      console.log(\"[RedirectTo] Login page\");\r\n      return <Redirect to={loginRoute} />;\r\n    }\r\n  }\r\n\r\n  deleteCategory = id => {\r\n    // alert(\"OK\" + id.target.id);\r\n    this.props.deleteCategory(id.target.id);\r\n  };\r\n\r\n  renderCategoryList(style) {\r\n    let styleList = {};\r\n    return this.props.categories.map(item => {\r\n      if (item.deleted) {\r\n        let paramId = item._id;\r\n        console.log(\"deletedItem\", item);\r\n        return (\r\n          <li\r\n            style={{\r\n              textDecoration: \"none\",\r\n              listStyle: \"none\",\r\n              display: \"block\",\r\n              margin: \" 3px 6px 0px 6px\",\r\n              border: \"1px solid #eee\",\r\n              padding: \"2px\",\r\n              paddingLeft: \"5px\",\r\n              boxShadow: \"0px 1px 0px #ccc\",\r\n              color: \"#ddddd\",\r\n              background: \"#f7f7f7\"\r\n            }}\r\n            id={paramId}\r\n            key={item._id}\r\n          >\r\n            {item.name}\r\n          </li>\r\n        );\r\n      }\r\n      return (\r\n        <li\r\n          style={{\r\n            textDecoration: \"none\",\r\n            listStyle: \"none\",\r\n            display: \"block\",\r\n            margin: \" 3px 6px 0px 6px\",\r\n            border: \"1px solid #eee\",\r\n            padding: \"2px\",\r\n            paddingLeft: \"5px\",\r\n            boxShadow: \"0 2px 3px #ccc\"\r\n          }}\r\n          title=\"Delete\"\r\n          key={item._id}\r\n        >\r\n          {item.name}\r\n          <span\r\n            id={item.name}\r\n            onClick={this.deleteCategory}\r\n            className=\"fas fa-trash-alt\"\r\n            title=\"Delete\"\r\n            style={style}\r\n          />\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderAddCategoryBtn(btnStyle) {\r\n    if (this.props.loadingCategory) {\r\n      return <p style={{ display: \"inline-block\" }}>Adding...</p>;\r\n    } else {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          onClick={e => {\r\n            this.props.addCategory(this.props.category);\r\n          }}\r\n          style={btnStyle}\r\n        >\r\n          Add\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderUpdateButton(btnStyle) {\r\n    if (this.props.loadingUpdate) {\r\n      return <p style={{ display: \"inline-block\" }}>Updating...</p>;\r\n    } else {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          style={btnStyle}\r\n          onClick={e => {\r\n            this.props.updateBudget(this.props.budget);\r\n          }}\r\n        >\r\n          Update\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Settings render props\", this.props);\r\n    let rowStyle = {\r\n      background: \"white\"\r\n    };\r\n    let btnStyle = {\r\n      border: \"border: 1px solid #eee\",\r\n      boxShadow: \" 0 2px 3px #ccc\",\r\n      borderRadius: \"0\",\r\n      width: \"100px\",\r\n      display: \"inline-box\",\r\n      background: \"white\",\r\n      height: \"35px\"\r\n    };\r\n    let deleteBtnStyle = {\r\n      cursor: \"pointer\",\r\n      float: \"right\",\r\n      padding: \"5px 10px 5px 0\",\r\n      fontSize: \"12px\"\r\n    };\r\n    return (\r\n      <div className=\"container \">\r\n        <div className=\"row mt-2\" style={rowStyle}>\r\n          <div className=\"col-md-2\" />\r\n\r\n          <div className=\"col-md-8 text-center\">\r\n            <label>\r\n              Total budget\r\n              <input\r\n                type=\"text\"\r\n                name=\"totalBudget\"\r\n                style={{\r\n                  display: \"inline-box\",\r\n                  marginRight: \"16px\",\r\n                  marginLeft: \"16px\"\r\n                }}\r\n                id=\"totalBudget\"\r\n                placeholder=\"Enter your  budget\"\r\n                value={this.props.budget}\r\n                onChange={e => {\r\n                  this.props.budgetOnChange(e.target.value);\r\n                }}\r\n              />\r\n            </label>\r\n            {this.renderUpdateButton(btnStyle)}\r\n          </div>\r\n          <div className=\"col-md-2\" />\r\n        </div>\r\n\r\n        <div className=\"row mt-3\" style={rowStyle}>\r\n          <div className=\"col-md-2\" />\r\n\r\n          <div className=\"col-md-8 text-center\">\r\n            <label>\r\n              Categories\r\n              <input\r\n                type=\"text\"\r\n                name=\"totalBudget\"\r\n                style={{\r\n                  display: \"inline-box\",\r\n                  marginRight: \"16px\",\r\n                  marginLeft: \"16px\"\r\n                }}\r\n                value={this.props.category}\r\n                placeholder=\"Enter category name\"\r\n                onChange={e => {\r\n                  this.props.categoryOnChange(e.target.value);\r\n                }}\r\n              />\r\n            </label>\r\n            {this.renderAddCategoryBtn(btnStyle)}\r\n          </div>\r\n          <div className=\"col-md-2\" />\r\n        </div>\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <p className=\"text-center\" style={{ color: \"red\" }}>\r\n              {this.props.error}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mt-2\" style={rowStyle}>\r\n          <div className=\"col-md-3\" />\r\n\r\n          <div className=\"col-md-6 mt-1  card\">\r\n            <ul style={{ padding: \"0px\" }}>\r\n              {this.renderCategoryList(deleteBtnStyle)}\r\n            </ul>\r\n          </div>\r\n          <div className=\"col-md-3\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  console.log(\"[Settings Comp]-\", state);\r\n\r\n  return { ...state.settings, isLogin: state.authentication.isSessionActive };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    budgetOnChange,\r\n    categoryOnChange,\r\n    updateBudget,\r\n    addCategory,\r\n    deleteCategory\r\n  }\r\n)(Settings);\r\n"]},"metadata":{},"sourceType":"module"}